# Environment Variables Configuration
# 
# IMPORTANT: Copy this file to .env in the ROOT directory (not in config/)
#   cp config/env.example .env
# 
# Usage:
# - Production: Set all required variables in Render/your hosting platform
# - Local Dev: Copy to .env in root and customize
# - Testing: Jest sets NODE_ENV=test automatically

# ============================================================================
# PRODUCTION / DEPLOYMENT (Required)
# ============================================================================

# Supabase Database
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# OpenAI API (supports both OPENAI_API_KEY and ALTTEXT_OPENAI_API_KEY)
OPENAI_API_KEY=sk-your-openai-key
OPENAI_MODEL=gpt-4o-mini

# Stripe Payment Processing
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
ALTTEXT_AI_STRIPE_PRICE_PRO=price_xxx
ALTTEXT_AI_STRIPE_PRICE_AGENCY=price_xxx
ALTTEXT_AI_STRIPE_PRICE_CREDITS=price_xxx

# CORS Origins (comma-separated URLs or * for all)
ALLOWED_ORIGINS=https://your-site.com,https://dashboard.your-site.com

# ============================================================================
# OPTIONAL / SERVICE CONFIGURATION
# ============================================================================

# API Token Authentication (alternative to license keys)
ALT_API_TOKEN=your-optional-api-token

# Server Configuration
PORT=4000
HOST=0.0.0.0
NODE_ENV=production

# Rate Limiting
RATE_LIMIT_PER_SITE=120
RATE_LIMIT_GLOBAL=0

# Job Queue Configuration
JOB_CONCURRENCY=2
JOB_TTL_SECONDS=604800

# Redis Cache/Queue (optional)
REDIS_URL=redis://default:password@host:6379

# Skip quota checks for specific site hashes (comma-separated)
SKIP_QUOTA_CHECK_SITE_IDS=

# ============================================================================
# LOCAL DEVELOPMENT (Optional Overrides)
# ============================================================================
# For local dev, you can create .env.local with minimal variables:
# 
# SKIP_QUOTA_CHECK=true  # Skip all quota/database checks (much faster)
# PORT=4000
# OPENAI_API_KEY=sk-your-key  # Only needed if testing real API calls
#
# When SKIP_QUOTA_CHECK=true, Supabase and other services are optional

# ============================================================================
# TESTING (Jest automatically uses NODE_ENV=test)
# ============================================================================
# For tests, Jest mocks external services. No env vars needed unless testing
# integration with real services. If needed, set in jest.setup.js or test files.
